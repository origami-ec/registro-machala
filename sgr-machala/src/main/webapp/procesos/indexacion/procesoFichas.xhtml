<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    template="/template/bpmTemplate.xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
    <ui:define name="title">Proceso Fichas-Castastro</ui:define>
    <ui:define name="content">
        <h:form id="mainForm">
            <style>
                .procesado {
                    background-color: green !important;
                    color: #192a37 !important;
                }
                .sinProcesar {
                    background-color: pink !important;
                    color: #192a37 !important;
                }
            </style>
            <center><h2>PROCESO FICHAS-CATASTRO</h2></center>
            <!--<h:panelGrid columns="3" style="width: 100%;text-align: right;">
                <h2 style="float: right;">PROCESO DE ACTUALIZACIÓN DE FICHAS</h2>
                <p:spacer width="100"/>
                <p:commandButton value="Nueva Ciudadela" icon="pi pi-home" style="background-color: darkolivegreen;"
                                 actionListener="# {fichasIngresadas.showDlgNuevaCiudadela()}"/>
            </h:panelGrid>-->
            <p:dataTable paginator="true" lazy="true" rows="15" rowsPerPageTemplate="15,30,50" resizableColumns="true"
                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords}" id="dtFichaLazy"
                         value="#{fichasIngresadas.listadoFichas}" var="fic" emptyMessage="No se encontró Fichas" filterEvent="enter" >
                <p:column headerText="No Ficha" filterBy="#{fic.numFicha}" sortBy="#{fic.numFicha}" width="100" filterStyle="width: 95%">
                    <h:outputText  value="#{fic.numFicha}"/>
                </p:column>
                <p:column headerText="Opciones" width="120">
                    <p:commandButton icon="pi pi-pencil" actionListener="#{fichasIngresadas.showDlgProcesoFichas(fic)}" 
                                     style="background-color: darkolivegreen;" title="Editar datos"/>
                    <p:spacer width="10" />
                    <p:commandButton icon="pi pi-folder" actionListener="#{fichasIngresadas.showDlgFichaSelect(fic)}" 
                                     title="Visualizar información" />
                    <p:spacer width="10" />
                    <p:commandButton icon="pi pi-file-pdf" actionListener="#{fichasIngresadas.imprimirFichaRegistral(fic)}" 
                                     style="background-color: orangered;" title="Generar reporte"/>
                </p:column>
                <p:column headerText="Clave Catastral" filterBy="#{fic.claveCatastral}" filterStyle="width: 95%" 
                          rendered="#{fichasIngresadas.tipoFicha.codigo eq 0}">
                    <h:outputText  value="#{fic.claveCatastral}"/>
                </p:column>
                <p:column headerText="Código Predio" filterBy="#{fic.fichaMatriz}" filterStyle="width: 95%"
                          rendered="#{fichasIngresadas.tipoFicha.codigo eq 0}" width="100">
                    <h:outputText  value="#{fic.fichaMatriz}"/>
                </p:column>
                <p:column headerText="Codigo/Chasis" filterBy="#{fic.claveCatastral}" width="200" filterStyle="width: 95%"
                          rendered="#{fichasIngresadas.tipoFicha.codigo eq 1}">
                    <h:outputText  value="#{fic.claveCatastral}"/>
                </p:column>
                <p:column headerText="Codigo/Identificacion" filterBy="#{fic.claveCatastral}" width="200" filterStyle="width: 95%"
                          rendered="#{fichasIngresadas.tipoFicha.codigo gt 1}">
                    <h:outputText  value="#{fic.claveCatastral}"/>
                </p:column>
                <p:column headerText="Parroquia" filterBy="#{fic.parroquia.descripcion}" filterStyle="width: 95%" width="80"
                          rendered="#{fichasIngresadas.tipoFicha.codigo eq 0}">
                    <h:outputText value="#{fic.parroquia.descripcion}"/>
                </p:column>
                <p:column headerText="Tipo Código" width="80">
                    <!--<h:outputText value="# {fic.informacionFicha.valor}" rendered="# {fic.informacionFicha.id eq 17}"
                                  style="background-color: darksalmon;font-weight: bolder;"/>
                    <h:outputText value="# {fic.informacionFicha.valor}" rendered="# {fic.informacionFicha.id eq 18}"
                                  style="background-color: greenyellow;font-weight: bolder;"/>-->
                    <p:outputLabel value="CAMPOSANTO" style="background-color: darksalmon;font-weight: bolder;"
                                   rendered="#{fic.descripcionBien.toUpperCase().contains('CAMPOSANTO') }"/>
                    <br/>
                    <ui:repeat value="#{fic.codigosFichaCollection}" var="cods">
                        <p:outputLabel value="#{cods.tipo.codename} &lt;br/&gt;" escape="false" 
                                       style="background-color: greenyellow;font-weight: bolder;"/>
                    </ui:repeat>
                </p:column>
                <p:column headerText="Ubicación Bien Inmueble" filterBy="#{fic.descripcionBien}" filterStyle="width: 95%" 
                          filterMatchMode="contains">
                    <h:outputText id="descripcionFicha" value="#{fic.descripcionBien}"/>
                    <p:tooltip for="descripcionFicha" value="#{fic.descripcionBien}" position="top"/>
                </p:column>
            </p:dataTable>
        </h:form>

        <p:dialog id="dlgInformacionFicha" header="FICHA REGISTRAL" widgetVar="dlgFichaSelect" 
                  resizable="false" modal="true" closeOnEscape="true" height="520" width="800">
            <h:form id="formFichaSelect">
                <h:panelGrid style="font-weight: bolder;width: 100%;" columns="3">
                    <h:panelGroup>
                        Nro. de Ficha:<br/>
                        <p:inputText value="#{fichasIngresadas.fichaSel.numFicha}" readonly="true" style="width: 100%"/>
                    </h:panelGroup>
                    <h:panelGroup>
                        Parroquia:<br/>
                        <p:inputText value="#{fichasIngresadas.fichaSel.parroquia.descripcion}" readonly="true" style="width: 100%"/>
                    </h:panelGroup>
                    <h:panelGroup>
                        Tipo Bien:<br/>
                        <p:inputText value="#{fichasIngresadas.fichaSel.uafTipoBien.descripcion}" readonly="true" style="width: 100%"/>
                    </h:panelGroup>
                    <h:panelGroup>
                        Clave Catastral:<br/>
                        <p:inputText value="#{fichasIngresadas.fichaSel.claveCatastral}" readonly="true" style="width: 100%"/>
                    </h:panelGroup>
                    <h:panelGroup>
                        Código de Predio:<br/>
                        <p:inputText value="#{fichasIngresadas.fichaSel.fichaMatriz}" readonly="true" style="width: 100%"/>
                    </h:panelGroup>
                    <h:panelGroup>
                        Área Terreno:<br/>
                        <p:inputText value="#{fichasIngresadas.fichaSel.areaTerreno}" readonly="true" style="width: 100%"/>
                    </h:panelGroup>
                </h:panelGrid>
                <p:tabView>
                    <p:tab title="Descripción">
                        <p:panel header="Ubicación del Bien">
                            <p:inputTextarea value="#{fichasIngresadas.fichaSel.descripcionBien}" 
                                             style="width: 100%;" rows="6" readonly="true" autoResize="false"/>
                        </p:panel>
                    </p:tab>
                    <p:tab title="Linderos Registrales">
                        <p:dataTable id="dtLinderos" value="#{fichasIngresadas.fichaSel.regFichaLinderosCollection}" 
                                     scrollable="true" scrollHeight="240" lazy="false" var="lin" rowIndexVar="rowIndex" reflow="true" >
                            <p:column headerText="Tipo" width="40">
                                <p:outputLabel value="#{lin.tipo.descripcion}" />
                            </p:column>
                            <p:column headerText="Lindero">
                                <p:outputLabel value="#{lin.linderante}" />
                            </p:column>
                            <p:column headerText="Longitud" width="150">
                                <p:outputLabel value="CON: #{lin.longitud} MTS." rendered="#{lin.longitud gt 0}"/>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="Movimientos Registrales">
                        <p:dataTable value="#{fichasIngresadas.movimientos}" var="mov" scrollable="true" 
                                     scrollHeight="240" rowIndexVar="rowIndex" resizableColumns="true">
                            <p:column headerText="No" width="30">
                                #{rowIndex+1}
                            </p:column>
                            <p:column headerText="Libro">
                                <p:outputLabel id="libroMovFicha" value="#{mov.movimiento.libro.nombre}" 
                                               style="text-transform: uppercase;"/>
                                <p:tooltip for="libroMovFicha" value="#{mov.movimiento.libro.nombre}" position="top" />
                            </p:column>
                            <p:column headerText="Acto" >
                                <p:outputLabel id="actoMovFicha" value="#{mov.movimiento.acto.nombre}" style="text-transform: uppercase;"/>
                                <p:tooltip for="actoMovFicha" value="#{mov.movimiento.acto.nombre}" position="top" />
                            </p:column>
                            <p:column headerText="Tomo" width="30">
                                <p:outputLabel value="#{mov.movimiento.numTomo}"/>
                            </p:column>
                            <p:column headerText="Repertorio" width="70">
                                <p:outputLabel value="#{mov.movimiento.numRepertorio}"/>
                            </p:column>
                            <p:column headerText="Inscripción" width="70">
                                <p:outputLabel value="#{mov.movimiento.numInscripcion}"/>
                            </p:column>
                            <p:column headerText="Fec.Inscripc." width="70">
                                <p:outputLabel value="#{mov.movimiento.fechaInscripcion}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </p:outputLabel>
                            </p:column>
                            <p:column headerText="***" width="20">
                                <p:commandLink actionListener="#{fichasIngresadas.showDlgMovSelect(mov.movimiento)}">
                                    <i class="pi pi-book" style="font-size: 1.5em; margin-right: 5px;color: darkred;"></i>
                                </p:commandLink>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="Propietarios">
                        <p:dataTable value="#{fichasIngresadas.fichaSel.regFichaPropietariosCollection}" var="pro" rowIndexVar="rowIndexProp" 
                                     resizableColumns="true" style="text-align: center" scrollable="true" scrollHeight="240">
                            <p:column headerText="No" width="30">
                                #{rowIndexProp+1}
                            </p:column>
                            <p:column headerText="CI/RUC" width="150">
                                <p:outputLabel value="#{pro.propietario.cedRuc}"/>
                            </p:column>
                            <p:column headerText="Nombre" >
                                <p:outputLabel value="#{pro.propietario.nombre}"/>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                </p:tabView>
            </h:form>
        </p:dialog>

        <p:dialog widgetVar="dlgTipoFicha" header="Nueva Ficha Registral" modal="true" resizable="false">
            <h:form id="formTipoFicha">
                <p:panelGrid styleClass="ui-panelgrid-blank form-group form-elements" columns="1" >
                    <p:selectOneRadio value="#{fichasIngresadas.newTipoFicha}" layout="grid" columns="1" disabled="true"
                                      converter="entityConverter">
                        <f:selectItems value="#{fichasIngresadas.tiposFichas}" var="ntf" itemLabel="#{ntfic.nombre}" itemValue="#{ntf}"/>
                    </p:selectOneRadio>

                </p:panelGrid>
                <center>
                    <p:commandButton actionListener="#{fichasIngresadas.redirectFichaNueva()}" value="Nueva Ficha" icon="pi pi-home"/>
                </center>
            </h:form>
        </p:dialog>

        <p:dialog header="Proceso de Actualización de Fichas Registrales" widgetVar="dlgProcesoFichas" modal="true" 
                  width="800" resizable="false" closeOnEscape="false" position="top" closable="false">
            <h:form id="formProcesoFicha">

                <h:panelGrid columns="3" style="font-weight: bolder;font-size: 20px;margin: 0 auto;">
                    Nro de Ficha:
                    <p:spacer width="20" />
                    <p:outputLabel value="#{fichasIngresadas.fichaSel.numFicha}" 
                                   style="font-weight: bolder;color: blue;font-size: 20px;"/>
                </h:panelGrid>

                <h:panelGrid columns="1" style="width: 100%;">
                    <p:outputLabel value="Ubicación del Bien:" style="font-weight: bolder;"/>
                    <p:inputTextarea value="#{fichasIngresadas.fichaSel.descripcionBien}" style="width: 100%" 
                                     readonly="true" autoResize="false"/>
                    <p:outputLabel value="** Campos obligatorios" style="color: red;font-weight: bolder;"/>
                </h:panelGrid>

                <h:panelGroup id="pnlCodigos">
                    <h:panelGrid columns="3" style="font-weight: bolder;font-size: 16px;width: 100%;" >
                        <h:panelGroup>
                            <p:outputLabel value="**" style="color: red;"/><p:outputLabel value="Tipo Código:"/><br/>
                            <p:selectOneMenu value="#{fichasIngresadas.nuevoCodigo.tipo}" converter="entityConverter" 
                                             style="display: block; margin-top: 3px; min-width: 0px !important; width: 150px !important">
                                <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" />
                                <f:selectItems value="#{fichasIngresadas.tipoCodigosPredio}" var="tcp" 
                                               itemLabel="#{tcp.valor}" itemValue="#{tcp}" />
                                <p:ajax update="pnlCodigos" event="change"/>
                            </p:selectOneMenu>
                        </h:panelGroup>

                        <h:panelGroup rendered="#{fichasIngresadas.nuevoCodigo.tipo.codename ne 'URBANISTICO'}">
                            <p:outputLabel value="**" style="color: red;"/><p:outputLabel value="Código:"/><br/>
                            <p:inputText value="#{fichasIngresadas.nuevoCodigo.codigo}" style="width: 400px;"/>
                        </h:panelGroup>

                        <h:panelGroup rendered="#{fichasIngresadas.nuevoCodigo.tipo.codename eq 'URBANISTICO'}">
                            <p:outputLabel value="**" style="color: red;"/><p:outputLabel value="Ciudadela:"/><br/>
                            <p:selectOneMenu value="#{fichasIngresadas.nuevoCodigo.urb}" converter="entityConverter"
                                             filter="true" filterMatchMode="contains" style="width: 400px;">
                                <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" />
                                <f:selectItems value="#{fichasIngresadas.barrios}" var="bar" 
                                               itemLabel="#{bar.nombre}" itemValue="#{tcp}" />
                                <p:ajax update="formProcesoFicha" event="change"/>
                            </p:selectOneMenu>
                        </h:panelGroup>

                        <h:panelGroup>
                            <br/>
                            <p:commandButton icon="pi pi-save" value="Guardar Código" update="formProcesoFicha" 
                                             actionListener="#{fichasIngresadas.guardarCodigoFicha()}"/>
                        </h:panelGroup>
                    </h:panelGrid>
                    <h:panelGroup rendered="#{fichasIngresadas.nuevoCodigo.tipo.codename eq 'URBANISTICO'}">
                        <h:panelGrid columns="5" style="width: 100%;font-weight: bolder;">
                            <h:panelGroup>
                                <p:outputLabel value="Etapa:" /><br/>
                                <p:inputText value="#{fichasIngresadas.nuevoCodigo.etapa}" size="15"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:outputLabel value="**" style="color: red;"/><p:outputLabel value="Mz:"/><br/>
                                <p:inputText value="#{fichasIngresadas.nuevoCodigo.mz}" size="15"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:outputLabel value="**" style="color: red;"/><p:outputLabel value="Lote:"/><br/>
                                <p:inputText value="#{fichasIngresadas.nuevoCodigo.villa}" size="15"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:outputLabel value="Edificio:" /><br/>
                                <p:inputText value="#{fichasIngresadas.nuevoCodigo.edificio}" size="15"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:outputLabel value="Piso:" /><br/>
                                <p:inputText value="#{fichasIngresadas.nuevoCodigo.piso}" size="15"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:outputLabel value="Departamento:" /><br/>
                                <p:inputText value="#{fichasIngresadas.nuevoCodigo.departamento}" size="15"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:outputLabel value="Oficina:" /><br/>
                                <p:inputText value="#{fichasIngresadas.nuevoCodigo.oficina}" size="15"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:outputLabel value="Local:" /><br/>
                                <p:inputText value="#{fichasIngresadas.nuevoCodigo.local}" size="15"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:outputLabel value="Parqueo:" /><br/>
                                <p:inputText value="#{fichasIngresadas.nuevoCodigo.parqueo}" size="15"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:outputLabel value="Villa - Townhouse:" /><br/>
                                <p:inputText value="#{fichasIngresadas.nuevoCodigo.townhouse}" size="15"/>
                            </h:panelGroup>
                        </h:panelGrid>
                    </h:panelGroup>
                </h:panelGroup>

                <p:dataTable id="dtCodigosFicha" value="#{fichasIngresadas.codigosFicha}" var="pcf" 
                             scrollable="true" scrollHeight="400" >
                    <p:column headerText="Tipo" width="100">
                        <p:outputLabel value="#{pcf.tipo.valor}"/>
                    </p:column>
                    <p:column headerText="Código" >
                        <p:outputLabel value="#{pcf.codigoCompleto}"/>
                    </p:column>
                    <p:column headerText="***" width="80">
                        <p:commandButton icon="pi pi-pencil" style="background-color: darkgoldenrod;" update="formProcesoFicha" 
                                         actionListener="#{fichasIngresadas.corregirCodigo(pcf)}" title="Editar"/>
                        <p:spacer width="5"/>
                        <p:commandButton icon="pi pi-trash" style="background-color: darkred;" update="dtCodigosFicha" 
                                         actionListener="#{fichasIngresadas.inactivarCodigo(pcf)}" title="Eliminar"/>
                    </p:column>
                </p:dataTable><br/>
                <center>
                    <p:commandButton value="Cerrar Ventana" icon="pi pi-times-circle" 
                                     actionListener="#{fichasIngresadas.actualizarLazy()}"/>
                </center>
            </h:form>
        </p:dialog>

        <p:dialog widgetVar="dlgCiudadela" header="Nueva Ciudadela" modal="true" resizable="false" width="300">
            <h:form id="formCiudadela">
                <p:panelGrid styleClass="ui-panelgrid-blank form-group form-elements" columns="1" 
                             style="font-weight: bolder;width: 100%;">
                    Parroquia:
                    <p:selectOneMenu value="#{fichasIngresadas.ciudadela.parroquia}" converter="entityConverter" 
                                     filter="true" filterMatchMode="contains" style="width: 100%;">
                        <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" />
                        <f:selectItems value="#{fichasIngresadas.parroquias}" var="par" 
                                       itemLabel="#{par.descripcion}" itemValue="#{par}" />
                    </p:selectOneMenu>
                    Nombre:
                    <p:inputText value="#{fichasIngresadas.ciudadela.nombre}" style="width: 100%;"/>
                </p:panelGrid><br/>
                <center>
                    <p:commandButton actionListener="#{fichasIngresadas.guardarCiudadela()}" 
                                     value="Guardar Ciudadela" icon="pi pi-save"/>
                </center>
            </h:form>
        </p:dialog>

        <p:dialog id="dlgMovimientoRegistral" header="MOVIMIENTO REGISTRAL" widgetVar="dlgMovRegSelec" position="left top"
                  resizable="false" closeOnEscape="true" width="800" height="450" modal="true">
            <h:form id="formMovRegSelec">
                <p:fieldset legend="Datos de la Inscripcion">
                    <p:panelGrid style="width: 100%;font-size: 13px;font-weight: bolder;">
                        <p:row>
                            <p:column>
                                Num.Inscrip.:
                                <p:outputLabel value="#{fichasIngresadas.movimiento.numInscripcion}"/>
                            </p:column>
                            <p:column>
                                Fecha Inscrip.:
                                <p:outputLabel value="#{fichasIngresadas.movimiento.fechaInscripcion}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </p:outputLabel>
                            </p:column>
                            <p:column>
                                Num.Rep.:
                                <p:outputLabel  value="#{fichasIngresadas.movimiento.numRepertorio}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                Libro:
                                <p:outputLabel value="#{fichasIngresadas.movimiento.libro.nombre}"/>
                            </p:column>
                            <p:column colspan="2">
                                Acto:
                                <p:outputLabel value="#{fichasIngresadas.movimiento.acto.nombre}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                Tomo:
                                <p:outputLabel value="#{fichasIngresadas.movimiento.numTomo}"/>
                            </p:column>
                            <p:column>
                                Folio Inicio:
                                <p:outputLabel value="#{fichasIngresadas.movimiento.folioInicio}"/>
                            </p:column>
                            <p:column>
                                Folio Fin:
                                <p:outputLabel value="#{fichasIngresadas.movimiento.folioFin}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                Canton:
                                <p:outputLabel value="#{fichasIngresadas.movimiento.domicilio.nombre}"/>
                            </p:column>
                            <p:column>
                                Fech/Otorg.:
                                <p:outputLabel value="#{fichasIngresadas.movimiento.fechaOto}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </p:outputLabel>
                            </p:column>
                            <p:column>
                                Not./Juz.:
                                <p:outputLabel value="#{fichasIngresadas.movimiento.enteJudicial.nombre}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="3">
                                Escri/Juicio/Resolu:
                                <p:outputLabel value="#{fichasIngresadas.movimiento.escritJuicProvResolucion}"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                </p:fieldset>
                <p:tabView id="tabDet">
                    <p:tab title="Intervinientes">
                        <p:dataTable emptyMessage="No hay datos para mostrar..." var="inter" scrollable="true" 
                                     resizableColumns="true" value="#{fichasIngresadas.clientes}" scrollHeight="200" 
                                     rowIndexVar="indexIntv" id="dtInterv">
                            <p:column headerText="No" width="25">
                                #{indexIntv+1}
                            </p:column>
                            <p:column headerText="C.I/R.U.C" width="100">
                                <p:outputLabel value="#{inter.enteInterv.cedRuc}"/>
                            </p:column>
                            <p:column headerText="Nombres">
                                <p:outputLabel id="nombreInterv" value="#{inter.enteInterv.nombre}"/>
                                <p:tooltip for="nombreInterv" value="#{inter.enteInterv.nombre}" position="top" />
                            </p:column>
                            <p:column headerText="Papel" width="100">
                                <p:outputLabel id="papelInterv" value="#{inter.papel.papel}"/>
                                <p:tooltip for="papelInterv" value="#{inter.papel.papel}" position="top" />
                            </p:column>
                            <p:column headerText="Estado" width="80">
                                <p:outputLabel id="estadoInterv" value="#{inter.estado}"/>
                                <p:tooltip for="estadoInterv" value="#{inter.estado}" position="top" />
                            </p:column>
                            <p:column headerText="Domicilio" width="80">
                                <p:outputLabel id="domicilioInterv" value="#{inter.domicilio.nombre}"/>
                                <p:tooltip for="domicilioInterv" value="#{inter.domicilio.nombre}" position="top" />
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="Bienes">
                        <p:dataTable value="#{fichasIngresadas.fichas}" var="fich" style="width: 100%;" id="dtBienes" 
                                     scrollable="true" scrollHeight="200" rowIndexVar="rowIndex" resizableColumns="true" 
                                     emptyMessage="No se encontraron elementos..." >
                            <p:column headerText="No" width="25">
                                #{rowIndex+1}
                            </p:column>
                            <p:column headerText="No Ficha" width="100">
                                <p:outputLabel value="#{fich.numFicha}"/>
                            </p:column>
                            <p:column headerText="***" width="30">
                                <p:commandLink actionListener="#{fichasIngresadas.showDlgFichaSelect(fich)}" title="visualizar datos ficha">
                                    <i class="pi pi-folder-open" style="font-size: 1.5em; margin-right: 5px;color: darkred;"></i>
                                </p:commandLink>
                            </p:column>
                            <p:column headerText="Ubicación bien inmueble" width="2000">
                                <h:outputText id="descFicha" value="#{fich.descripcionBien}"/>
                                <p:tooltip for="descFicha" value="#{fich.descripcionBien}" position="top" />
                            </p:column>
                            <p:column headerText="Linderos" width="2500" style="text-align: left;" rendered="false">
                                <h:outputText value="#{fich.linderos}"/>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="Observación">
                        <p:inputTextarea id="textAreaObs" value="#{fichasIngresadas.movimiento.observacion}" readonly="true" 
                                         autoResize="false" scrollHeight="200" style="width: 100%; height: 150px;"/>
                    </p:tab>
                    <p:tab title="Referencias">
                        <p:dataTable style="text-align: center;width: 100%" scrollable="true" scrollHeight="200" rowIndexVar="indexMovRef" 
                                     value="#{fichasIngresadas.movimiento.regMovimientoReferenciaCollection}" var="movRef" lazy="false"
                                     emptyMessage="Movimiento sin referencia(s)." resizableColumns="true" id="dtReferencias">
                            <p:column headerText="No" width="20">
                                #{indexMovRef+1}
                            </p:column>
                            <p:column headerText="Libro">
                                <p:outputLabel value="#{movRef.movimientoReferencia.libro.nombre}"/>
                            </p:column>
                            <p:column headerText="Acto">
                                <p:outputLabel value="#{movRef.movimientoReferencia.acto.nombre}"/>
                            </p:column>
                            <p:column headerText="Repertorio" width="80">
                                <p:outputLabel value="#{movRef.movimientoReferencia.numRepertorio}"/>
                            </p:column>
                            <p:column headerText="Inscripción" width="80">
                                <p:outputLabel value="#{movRef.movimientoReferencia.numInscripcion}"/>
                            </p:column>
                            <p:column headerText="Fecha Insc." width="80">
                                <p:outputLabel value="#{movRef.movimientoReferencia.fechaInscripcion}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </p:outputLabel>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="Documentos">
                        <p:panelGrid columns="1" styleClass="ui-panelgrid-blank" 
                                     style="font-weight: bolder;text-align: center;margin: 0 auto;">
                            <p:outputLabel value="Digitalización"/>
                            <p:commandLink  actionListener="#{fichasIngresadas.integracionYura()}" >
                                <p:graphicImage value="/resources/icons/documents.png" height="100"/>
                            </p:commandLink>
                        </p:panelGrid>
                    </p:tab>
                </p:tabView>
            </h:form>
        </p:dialog>

    </ui:define>
</ui:composition>
