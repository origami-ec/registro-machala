<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="CertificadoHistoriaMovimientos" pageWidth="455" pageHeight="802" whenNoDataType="AllSectionsNoDetail" columnWidth="455" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="9b921816-a052-44c8-a1af-29134016d0c7">
	<property name="ireport.zoom" value="2.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="negrita" pdfFontName="Helvetica-Bold"/>
	<parameter name="ID_CERTIFICADO" class="java.lang.Long"/>
	<parameter name="SUBREPORT_DIRINTERNO" class="java.lang.String">
		<defaultValueExpression><![CDATA["C:\\Users\\supergold\\Documents\\sgm\\src\\main\\webapp\\reportes\\registroPropiedad\\"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select
ROW_NUMBER() OVER(order by mov_ficha.fecha_inscripcion asc, mov_ficha.repertorio asc, mov_ficha.inscripcion desc) ROW_NUMBER,
mov_ficha.id as movimiento_id, mov_ficha.inscripcion as num_inscripcion, mov_ficha.fecha_inscripcion, mov_ficha.folio_inicio, mov_ficha.folio_fin,
mov_ficha.tomo as num_tomo, mov_ficha.repertorio as num_repertorio, mov_ficha.fecha_celebracion as fecha_oto, mov_ficha.juicio_resolucion as escrit_juic_prov_resolucion, mov_ficha.fecha_resolucion, mov_ficha.observacion, mov_ficha.acto as nombre_acto, mov_ficha.libro as nombre_libro, mov_ficha.notaria as ente_judicial, mov_ficha.canton as nombre_canton, mov_ficha.avaluo, mov_ficha.cuantia
from app.reg_certificado_movimiento as mov_ficha
where mov_ficha.certificado = $P{ID_CERTIFICADO}
order by mov_ficha.fecha_inscripcion asc, mov_ficha.repertorio asc, mov_ficha.inscripcion asc]]>
	</queryString>
	<field name="row_number" class="java.lang.Long"/>
	<field name="movimiento_id" class="java.lang.Long"/>
	<field name="num_inscripcion" class="java.lang.Integer"/>
	<field name="fecha_inscripcion" class="java.sql.Timestamp"/>
	<field name="folio_inicio" class="java.lang.Integer"/>
	<field name="folio_fin" class="java.lang.Integer"/>
	<field name="num_tomo" class="java.lang.String"/>
	<field name="num_repertorio" class="java.lang.Integer"/>
	<field name="fecha_oto" class="java.sql.Timestamp"/>
	<field name="escrit_juic_prov_resolucion" class="java.lang.String"/>
	<field name="fecha_resolucion" class="java.sql.Timestamp"/>
	<field name="observacion" class="java.lang.String"/>
	<field name="nombre_acto" class="java.lang.String"/>
	<field name="nombre_libro" class="java.lang.String"/>
	<field name="ente_judicial" class="java.lang.String"/>
	<field name="nombre_canton" class="java.lang.String"/>
	<field name="avaluo" class="java.lang.String"/>
	<field name="cuantia" class="java.lang.String"/>
	<detail>
		<band height="102" splitType="Stretch">
			<textField>
				<reportElement style="negrita" positionType="Float" mode="Opaque" x="0" y="0" width="325" height="16" backcolor="#CCCCCC" uuid="a9f341e0-e010-4e0c-9dc4-5dcec4fcc3cf"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["REGISTRO DE " + $F{nombre_libro}.toUpperCase()]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement style="negrita" positionType="Float" x="0" y="16" width="455" height="13" isPrintWhenDetailOverflows="true" uuid="24be7b59-77db-418b-9a53-4758f992e7df"/>
				<textElement>
					<font size="9" isBold="false" isUnderline="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nombre_acto}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="0" y="30" width="55" height="12" uuid="f58a33db-b081-4599-8715-b83019ef6336"/>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[Inscrito el:]]></text>
			</staticText>
			<textField pattern="EEEEE, dd MMMMM yyyy" isBlankWhenNull="true">
				<reportElement positionType="Float" x="55" y="30" width="135" height="12" uuid="c35b7754-dfa5-4341-8b13-76362c08726a"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fecha_inscripcion}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="0" y="42" width="40" height="12" isRemoveLineWhenBlank="true" uuid="239bd0ac-9b8f-47af-b18b-c2b31c429b74">
					<printWhenExpression><![CDATA[$F{num_tomo} != null && !$F{num_tomo}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[Tomo:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="40" y="42" width="55" height="12" isRemoveLineWhenBlank="true" uuid="aad32f90-0ca2-4938-aa91-f5ccb4b066d5">
					<printWhenExpression><![CDATA[$F{num_tomo} != null && !$F{num_tomo}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{num_tomo}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="95" y="42" width="40" height="12" isRemoveLineWhenBlank="true" uuid="ce44e0b2-420b-45c8-8d6a-d327b57ded8d">
					<printWhenExpression><![CDATA[$F{folio_inicio} != null && $F{folio_inicio} > 0]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[Folio:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="135" y="42" width="55" height="12" isRemoveLineWhenBlank="true" uuid="c217cd28-9c21-499d-99e4-a6cac50bf057">
					<printWhenExpression><![CDATA[$F{folio_inicio} != null && $F{folio_inicio} > 0]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{folio_inicio}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="190" y="30" width="75" height="12" uuid="acc02aba-9e75-467b-81e5-322fca019d25"/>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[N° Inscripción:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="265" y="30" width="60" height="12" uuid="fd1d8db5-42ee-4057-afee-bf381f35f9c6"/>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{num_inscripcion}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="325" y="30" width="75" height="12" uuid="77dacfaf-e447-4b12-aa28-cc5be5fa3124"/>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[N° Repertorio:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="400" y="30" width="55" height="12" uuid="34101b5a-c03c-4ec9-b7c5-c4b52a419193"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{num_repertorio}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="0" y="54" width="80" height="12" isRemoveLineWhenBlank="true" uuid="734145aa-4609-4d31-a4a2-8d6ad4d0fd3f">
					<printWhenExpression><![CDATA[$F{ente_judicial} != null]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[Notaría/Juzgado:]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="220" y="66" width="130" height="12" isRemoveLineWhenBlank="true" uuid="e9a7a9f6-402c-4570-9b7e-119c519353e8">
					<printWhenExpression><![CDATA[$F{nombre_canton} != null]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[Cantón de la Notaría/Juzgado:]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="0" y="66" width="80" height="12" isRemoveLineWhenBlank="true" uuid="880929cc-0fc3-48e0-85d1-a2f097e15997">
					<printWhenExpression><![CDATA[$F{fecha_oto} != null]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[Fecha de Escritura:]]></text>
			</staticText>
			<textField pattern="EEEEE, dd MMMMM yyyy" isBlankWhenNull="true">
				<reportElement positionType="Float" x="80" y="66" width="140" height="12" isRemoveLineWhenBlank="true" uuid="1699a7e7-6972-45bf-8f6d-64b5b237d6e3"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fecha_oto}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="80" y="54" width="375" height="12" isRemoveLineWhenBlank="true" uuid="5a2f6346-71b3-4c09-b094-9a300e524306"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ente_judicial}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="350" y="66" width="105" height="12" isRemoveLineWhenBlank="true" uuid="a26ebe3d-5542-4167-b4c6-578ff3856b3e"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nombre_canton}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="0" y="78" width="90" height="12" isRemoveLineWhenBlank="true" uuid="b5dbbf0a-440f-48fa-ad20-86dfedfb03bb">
					<printWhenExpression><![CDATA[$F{escrit_juic_prov_resolucion} != null && !$F{escrit_juic_prov_resolucion}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[Escrit./Juicio/Res.:]]></text>
			</staticText>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="0" y="90" width="90" height="12" isRemoveLineWhenBlank="true" uuid="3335c8e5-e6a2-4ac5-8c5f-bc932568ae06">
					<printWhenExpression><![CDATA[$F{fecha_resolucion} != null]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[Fecha de Resolución:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="90" y="78" width="365" height="12" isRemoveLineWhenBlank="true" uuid="3bfe3d30-a443-4ef2-b513-86081c910f0c">
					<printWhenExpression><![CDATA[$F{escrit_juic_prov_resolucion} != null && !$F{escrit_juic_prov_resolucion}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{escrit_juic_prov_resolucion}]]></textFieldExpression>
			</textField>
			<textField pattern="EEEEE, dd MMMMM yyyy" isBlankWhenNull="true">
				<reportElement positionType="Float" x="90" y="90" width="365" height="12" isRemoveLineWhenBlank="true" uuid="a96b794a-39f1-46e1-bae3-78e8b2907c93"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fecha_resolucion}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="negrita" positionType="Float" mode="Opaque" x="325" y="0" width="130" height="16" isPrintWhenDetailOverflows="true" backcolor="#CCCCCC" uuid="51f1a65b-058f-46ac-a975-52562321dc28"/>
				<box rightPadding="4">
					<topPen lineWidth="0.0" lineStyle="Dashed"/>
					<leftPen lineWidth="0.0" lineStyle="Dashed"/>
					<bottomPen lineWidth="0.0" lineStyle="Dashed"/>
					<rightPen lineWidth="0.0" lineStyle="Dashed"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["No. Inscripción: "+$F{num_inscripcion}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="190" y="42" width="45" height="12" isRemoveLineWhenBlank="true" uuid="7eae00cb-ab75-48a7-9c0d-2d4d39fc793c">
					<printWhenExpression><![CDATA[$F{cuantia} != null && !$F{cuantia}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[Cuantía:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="235" y="42" width="90" height="12" isRemoveLineWhenBlank="true" uuid="0abe3806-2c24-4049-a966-4045fab7d847">
					<printWhenExpression><![CDATA[$F{cuantia} != null && !$F{cuantia}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{cuantia}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="325" y="42" width="55" height="12" isRemoveLineWhenBlank="true" uuid="03037e67-c40f-4ed3-98fe-704699d36a8f">
					<printWhenExpression><![CDATA[$F{avaluo} != null && !$F{avaluo}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[Avalúo:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="380" y="42" width="75" height="12" isRemoveLineWhenBlank="true" uuid="ab5f2c91-7b50-443e-b3ea-dbcf877beb7a">
					<printWhenExpression><![CDATA[$F{avaluo} != null && !$F{avaluo}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{avaluo}]]></textFieldExpression>
			</textField>
		</band>
		<band height="14" splitType="Stretch">
			<subreport>
				<reportElement positionType="Float" isPrintRepeatedValues="false" x="0" y="0" width="455" height="10" isRemoveLineWhenBlank="true" uuid="8bcd87ae-e75a-45fd-9a19-e1beaf9f83a6"/>
				<subreportParameter name="id_movimiento">
					<subreportParameterExpression><![CDATA[$F{movimiento_id}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIRINTERNO} + "CertificadoHistoriaMovimientosPartes.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="30" splitType="Stretch">
			<printWhenExpression><![CDATA[$F{observacion} != null]]></printWhenExpression>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="0" y="0" width="90" height="12" isRemoveLineWhenBlank="true" uuid="b6b7db3c-c2bb-44fa-99ce-ea4eefadbc54">
					<printWhenExpression><![CDATA[$F{observacion} != null]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[OBSERVACIONES:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" mode="Transparent" x="0" y="12" width="455" height="14" isRemoveLineWhenBlank="true" uuid="41eddf3a-8f74-4be4-be8e-14dc5ce0916b"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
					<paragraph leftIndent="5" rightIndent="5" spacingAfter="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{observacion}.replaceAll( "\br", " ")]]></textFieldExpression>
			</textField>
		</band>
		<band height="14" splitType="Stretch">
			<subreport>
				<reportElement positionType="Float" isPrintRepeatedValues="false" x="0" y="0" width="455" height="10" isRemoveLineWhenBlank="true" uuid="483481e3-ba96-437d-93da-e58cb759547b"/>
				<subreportParameter name="id_movimiento">
					<subreportParameterExpression><![CDATA[$F{movimiento_id}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIRINTERNO} + "CertificadoHistoriaMovimientosReferencia.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
</jasperReport>
