<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../../template/bpmTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="title">
        Control Sanitario
    </ui:define>

    <ui:define name="content">
        <center><h2>Control Sanitario</h2></center>
        <h:form id="formMain">
            <p:dataTable value="#{controlSanitarioMB.lazy}" paginator="true" var="c" id="dataControl" lazy="true" rowIndexVar="indexInd" 
                         paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {CurrentPageReport} {NextPageLink} {LastPageLink}" 
                         paginatorPosition="bottom" rows="25" emptyMessage="No tiene solicitudes pendientes..." filterEvent="enter" >
                <p:column headerText="Ruc" filterBy="#{c.RUCEstablecimiento}"  style="text-align: center;">
                    <h:outputText value="#{c.RUCEstablecimiento}" />
                </p:column>
                <p:column headerText="Nombre Establecimiento" filterBy="#{c.nombreEstablecimiento}"  style="text-align: center;">
                    <h:outputText value="#{c.nombreEstablecimiento}" />
                </p:column>
                <p:column headerText="Representante" filterBy="#{c.id}"  style="text-align: center;">
                    <h:outputText value="#{c.representanteLegal}" />
                </p:column>
                <p:column headerText="Código Establecimiento" filterBy="#{c.codigoEstablecimiento}"  style="text-align: center;">
                    <h:outputText value="#{c.codigoEstablecimiento}" />
                </p:column>
                <p:column headerText="Dirección" filterBy="#{c.actividadEconomica}"  style="text-align: center;">
                    <h:outputText value="#{c.direccion}" />
                </p:column>
                <p:column headerText="Actividades" filterBy="#{c.actividadEconomica}"  style="text-align: center;">
                    <h:outputText value="#{c.actividadEconomica}" />
                </p:column>
                <p:column headerText="Acciones" width="150" style="text-align: center;">
                    <p:commandLink title="Imprimir Control Sanitario" actionListener="#{controlSanitarioMB.seeDocument(c.rutaControlSanitario)}" >
                        <i class="fa fa-file-text" style="font-size: 1.2em; color: #0b8793 ; margin-right: 5px;"></i>
                    </p:commandLink> 
                    <p:commandLink title="Imprimir Permiso Funcionamiento" actionListener="#{controlSanitarioMB.seeDocument(c.rutaPermisoFuncionamiento)}">
                        <i class="fa fa-file-pdf-o" style="font-size: 1.2em; margin-right: 5px;"></i>
                    </p:commandLink> 
                </p:column>
            </p:dataTable>
        </h:form>
    </ui:define>

</ui:composition>
