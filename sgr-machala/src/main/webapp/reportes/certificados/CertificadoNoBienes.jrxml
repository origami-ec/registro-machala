<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="CertificadoNoBienes" language="groovy" pageWidth="595" pageHeight="842" columnWidth="455" leftMargin="70" rightMargin="70" topMargin="0" bottomMargin="0" uuid="e70bf7b3-10e4-457b-953e-a72467c75fab">
	<property name="ireport.zoom" value="2.000000000000001"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="negrita" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\Users\\Anyelo\\Desktop\\NetBeansProjects\\registro-portoviejo\\src\\main\\webapp\\reportes\\registro\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="USER_NAME" class="java.lang.String"/>
	<parameter name="ID_CERTIFICADO" class="java.lang.Long"/>
	<parameter name="EMISION" class="java.util.Date"/>
	<parameter name="NOMBRES" class="java.lang.String"/>
	<parameter name="REGISTRADOR" class="java.lang.String"/>
	<parameter name="HEADER_URL" class="java.lang.String"/>
	<parameter name="FOOTER_URL" class="java.lang.String"/>
	<parameter name="WATERMARK_URL" class="java.lang.String"/>
	<parameter name="ADICIONAL" class="java.lang.Boolean"/>
	<parameter name="FIRMA_DIGITAL" class="java.lang.String"/>
	<queryString>
		<![CDATA[select c.num_certificado, en.ced_ruc, en.nombre, c.propietario, c.observacion,
c.con_bienes, to_char(c.fecha_emision, 'yyyy') as anio, c.linderos_registrales,
c.beneficiario, c.num_tramite, c.nombre_solicitante, c.uso_documento, c.descripcion_bien, liq.numero_autorizacion, liq.codigo_comprobante comprobante,
liq.codigo_comprobante, (to_char(c.fecha_emision, 'yyyy')||'-'||c.num_tramite)
as codigo_certificado, c.cod_verificacion, liq.tramite_online,
(select valor_string from conf.valores where code = 'URL_VALIDACION_DOCUMENTOS')
|| c.cod_verificacion as qrcode,
(select valor from conf.contenido_reportes where code = 'NOTAS_ACLARATORIAS' and estado = 'A') as notas_aclaratorias,
c.num_tramite, coalesce(uc.apellidos, '') || ' ' || coalesce(uc.nombres, '') as user_certificado, c.fecha_emision, cr.usuario as usuario_certificado,
cr.firma_nombre as firma_nombre1, cr.firma_cargo as firma_cargo1,
je.firma_nombre as firma_nombre2, je.firma_cargo as firma_cargo2, je.usuario as user_jefe
from app.reg_certificado c
left join app.reg_ente_interviniente en on (en.id = c.propietario)
left join flow.regp_tareas_tramite tt on tt.id = c.tarea_tramite
left join flow.regp_liquidacion_detalles ld on ld.id = tt.detalle
left join flow.regp_liquidacion liq on liq.id = ld.liquidacion
left join app.acl_user cr on (cr.id = c.user_creador)
left join app.acl_user je on (je.id = c.jefe_certificados)
left join app.cat_ente uc on (uc.id = cr.ente)
where c.id = $P{ID_CERTIFICADO}]]>
	</queryString>
	<field name="num_certificado" class="java.lang.Long"/>
	<field name="ced_ruc" class="java.lang.String"/>
	<field name="nombre" class="java.lang.String"/>
	<field name="propietario" class="java.lang.Long"/>
	<field name="observacion" class="java.lang.String"/>
	<field name="con_bienes" class="java.lang.Boolean"/>
	<field name="anio" class="java.lang.String"/>
	<field name="linderos_registrales" class="java.lang.String"/>
	<field name="beneficiario" class="java.lang.String"/>
	<field name="num_tramite" class="java.lang.Long"/>
	<field name="nombre_solicitante" class="java.lang.String"/>
	<field name="uso_documento" class="java.lang.String"/>
	<field name="descripcion_bien" class="java.lang.String"/>
	<field name="numero_autorizacion" class="java.lang.String"/>
	<field name="comprobante" class="java.lang.String"/>
	<field name="codigo_comprobante" class="java.lang.String"/>
	<field name="codigo_certificado" class="java.lang.String"/>
	<field name="cod_verificacion" class="java.lang.String"/>
	<field name="tramite_online" class="java.lang.Boolean"/>
	<field name="qrcode" class="java.lang.String"/>
	<field name="notas_aclaratorias" class="java.lang.String"/>
	<field name="user_certificado" class="java.lang.String"/>
	<field name="fecha_emision" class="java.sql.Timestamp"/>
	<field name="usuario_certificado" class="java.lang.String"/>
	<field name="firma_nombre1" class="java.lang.String"/>
	<field name="firma_cargo1" class="java.lang.String"/>
	<field name="firma_nombre2" class="java.lang.String"/>
	<field name="firma_cargo2" class="java.lang.String"/>
	<field name="user_jefe" class="java.lang.String"/>
	<background>
		<band height="840" splitType="Stretch">
			<image scaleImage="FillFrame" hAlign="Center" vAlign="Middle">
				<reportElement x="-70" y="0" width="595" height="840" uuid="e59d8d02-49d4-4774-b212-d5bf1719d964"/>
				<imageExpression><![CDATA[$P{WATERMARK_URL}]]></imageExpression>
			</image>
		</band>
	</background>
	<pageHeader>
		<band height="80" splitType="Stretch"/>
	</pageHeader>
	<detail>
		<band height="122" splitType="Stretch">
			<staticText>
				<reportElement style="negrita" positionType="Float" x="0" y="84" width="455" height="18" uuid="87d2ffe1-b379-46dc-be5f-65fd0efa7c14"/>
				<textElement verticalAlignment="Middle">
					<font size="11" isBold="false"/>
				</textElement>
				<text><![CDATA[SE CERTIFICA:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="0" y="102" width="455" height="16" isPrintWhenDetailOverflows="true" uuid="040e8523-cd35-4161-a915-e5eb5e3967c0"/>
				<textElement textAlignment="Justified" verticalAlignment="Middle" markup="styled">
					<font size="11"/>
					<paragraph lineSpacing="1_1_2"/>
				</textElement>
				<textFieldExpression><![CDATA["1.- Que a nombre de: <style pdfFontName=\"Helvetica-Bold\">" + $F{linderos_registrales} +
"</style> con CC/RUC/PAS N° <style pdfFontName=\"Helvetica-Bold\">" + $F{beneficiario} + "</style> " +
"NO SE ENCUENTRA INSCRITO NINGÚN BIEN INMUEBLE, en este Registro de la Propiedad, desde el año 1990 según sus índices hasta la presente fecha. " +
($F{descripcion_bien} != null ? $F{descripcion_bien} : "")]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" mode="Opaque" x="0" y="48" width="455" height="17" forecolor="#000000" backcolor="#CCCCCC" uuid="e3368f10-3528-416d-be15-21b0132ef0e9"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[CERTIFICADO DE NO POSEER BIENES INMUEBLES]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement positionType="Float" x="95" y="0" width="300" height="14" uuid="bd1a5462-1934-4639-a05e-ce6895b4a0bb"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[java.lang.String.format("%08d", $F{num_certificado}) + "-" + $F{codigo_certificado}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="0" y="0" width="95" height="14" uuid="a0b2ef4c-0350-4de6-943c-13ec2e491f8d"/>
				<textElement verticalAlignment="Middle">
					<font size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Nº de Certificado:]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement positionType="Float" x="95" y="14" width="300" height="14" uuid="2883de5b-e04b-46a9-b1e0-55ecd51d943c"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{fecha_emision}]]></textFieldExpression>
				<patternExpression><![CDATA["dd MMMMM yyyy HH:mm"]]></patternExpression>
			</textField>
			<staticText>
				<reportElement style="negrita" positionType="Float" x="0" y="14" width="95" height="14" uuid="bb9c6e50-675e-4a24-954a-2aa6b71cac42"/>
				<textElement verticalAlignment="Middle">
					<font size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Fecha de Emisión:]]></text>
			</staticText>
		</band>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="0" width="455" height="16" isPrintWhenDetailOverflows="true" uuid="7b35ac07-0ff9-467b-a53d-2e05392af6a4"/>
				<textElement textAlignment="Justified" verticalAlignment="Middle" markup="styled">
					<font size="11"/>
					<paragraph lineSpacing="1_1_2"/>
				</textElement>
				<textFieldExpression><![CDATA["2.- Este Registro Público no se responsabiliza por los datos erróneos, inexactos o con omisiones que hayan sido proporcionados por los particulares y que puedan inducir o hayan inducido a error o equivocación a la entidad, así como del uso doloso o fraudulento del documento, en concordancia del art. 4 de la Ley Orgánica de Registro de Datos Públicos."]]></textFieldExpression>
			</textField>
		</band>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="0" width="455" height="16" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" uuid="4113bc05-0035-4dd0-8fee-aeaaf4aaac12"/>
				<textElement textAlignment="Justified" verticalAlignment="Middle" markup="styled">
					<font size="11" isBold="false"/>
					<paragraph lineSpacing="1_1_2"/>
				</textElement>
				<textFieldExpression><![CDATA["3.- El presente certificado se lo extiende para los fines solicitados por <style pdfFontName=\"Helvetica-Bold\">" + $F{nombre_solicitante}.toUpperCase() +
"</style> el mismo que servirá para <style pdfFontName=\"Helvetica-Bold\">" + $F{uso_documento}.toUpperCase() + "</style> de acuerdo a la solicitud presentada por el usuario."]]></textFieldExpression>
			</textField>
		</band>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="0" y="0" width="455" height="11" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" uuid="2985d502-3b87-4566-9292-2811c43c0b5f"/>
				<textElement textAlignment="Justified" verticalAlignment="Middle" markup="none">
					<font size="6"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{notas_aclaratorias}]]></textFieldExpression>
			</textField>
		</band>
		<band height="116" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement style="negrita" isPrintRepeatedValues="false" x="0" y="74" width="250" height="42" isPrintWhenDetailOverflows="true" uuid="f2777d92-1dec-49c0-b02c-e72eeeb845a8"/>
				<box>
					<topPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{REGISTRADOR}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="355" y="0" width="100" height="12" isPrintWhenDetailOverflows="true" uuid="00ca690f-03c5-4a0e-9108-9210a376c0a9">
					<printWhenExpression><![CDATA[$F{cod_verificacion} != null]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Código de Verificación:]]></text>
			</staticText>
			<textField>
				<reportElement style="negrita" x="355" y="12" width="100" height="14" isPrintWhenDetailOverflows="true" uuid="0457285b-1249-42b6-939f-744e982a0fe5">
					<printWhenExpression><![CDATA[$F{cod_verificacion} != null]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{cod_verificacion}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="365" y="26" width="90" height="90" isPrintWhenDetailOverflows="true" uuid="78d4dfa0-40af-4b05-b91a-406bc472bf2d">
					<printWhenExpression><![CDATA[$F{cod_verificacion} != null]]></printWhenExpression>
				</reportElement>
				<imageExpression><![CDATA[com.google.zxing.client.j2se.MatrixToImageWriter.toBufferedImage(
    new com.google.zxing.qrcode.QRCodeWriter().encode(
        $F{qrcode},
        com.google.zxing.BarcodeFormat.QR_CODE, 300, 300
    ))]]></imageExpression>
			</image>
		</band>
	</detail>
	<pageFooter>
		<band height="64" splitType="Stretch">
			<textField evaluationTime="Report">
				<reportElement x="415" y="0" width="40" height="12" uuid="e4dff3fa-2f56-4eb8-a81d-3e60e2598d3b"/>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="355" y="0" width="59" height="12" uuid="34955d8f-c5a3-4a9b-9903-c311e565eec5"/>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Página: "+$V{PAGE_NUMBER}+" de"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="160" y="33" width="100" height="9" isPrintWhenDetailOverflows="true" uuid="89177da5-1228-4962-9cf3-b2a5eb0bca5f"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[java.lang.String.format("%08d", $F{num_certificado}) + "-" + $F{codigo_certificado}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy HH:mm" isBlankWhenNull="true">
				<reportElement x="340" y="33" width="100" height="9" isPrintWhenDetailOverflows="true" uuid="b1cd0ded-8c71-4383-bf80-ca7fbd6d6314"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fecha_emision}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="260" y="33" width="80" height="9" isPrintWhenDetailOverflows="true" uuid="10147000-ba0b-4ecf-96fd-69d45764acc2"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<text><![CDATA[Fecha de Emisión:]]></text>
			</staticText>
			<staticText>
				<reportElement x="80" y="33" width="80" height="9" isPrintWhenDetailOverflows="true" uuid="d27683f2-a8fc-4ddb-8897-e5e1b05fb6c6"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<text><![CDATA[Nro. Certificado:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="160" y="24" width="100" height="9" isPrintWhenDetailOverflows="true" uuid="d425463f-6f5c-44d8-adda-4729b94c408e"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{usuario_certificado}.toUpperCase()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="260" y="24" width="80" height="9" isPrintWhenDetailOverflows="true" uuid="fa35a240-11cd-475f-9cc0-e8c56f3152be"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<text><![CDATA[Nro. Comprobante:]]></text>
			</staticText>
			<staticText>
				<reportElement x="80" y="24" width="80" height="9" isPrintWhenDetailOverflows="true" uuid="1411b360-21aa-42fe-902e-6062027e8f3a"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<text><![CDATA[Elaborado por:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="340" y="24" width="100" height="9" isPrintWhenDetailOverflows="true" uuid="48c0c646-e76c-4a81-b656-554314cf5de8"/>
				<textElement verticalAlignment="Middle">
					<font size="6" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{comprobante}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
